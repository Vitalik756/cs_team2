@model IEnumerable<xManik.Models.Service>

@{
    ViewData["Title"] = "Index";
    var minPrice = Model.ToList().Min(s => s.Price);
    var maxPrice = Model.ToList().Max(s => s.Price);
}

<h2>Services</h2>


<div class="row">
    <div class="col-sm-3">
        <!--left col-->
        <ul class="list-group">
            <li class="list-group-item text-muted" contenteditable="false">Filters</li>
            <li class="list-group-item text-center">
                <a asp-action="AllServices" asp-route-sortOrder="@ViewData["NameSortParm"]">@Html.DisplayNameFor(model => model.Price)</a>
            </li>
            <li class="list-group-item text-center">
                <a asp-action="AllServices" asp-route-sortOrder="@ViewData["RateSortParm"]">@Html.DisplayNameFor(model => model.Provider.Rate)</a>
            </li>
            <li class="list-group-item text-center">
                <a asp-action="AllServices" asp-route-sortOrder="@ViewData["DurationSortParam"]">@Html.DisplayNameFor(model => model.Duration)</a>
            </li>
            <li class="list-group-item text-center">
                <form asp-action="AllServices" method="get">
                    <div class="form-actions no-color">
                        <p>
                            Find by description:
                            <input type="text" name="SearchString" value="@ViewData["currentFilter"]" />
                            <input type="submit" value="Search" class="btn btn-default" /> |
                            <a asp-action="AllServices">Back to Full List</a>
                        </p>
                    </div>
                </form>
            </li>
        </ul>
    </div>
    <div class="col-xs-3 cols-sm-3 col-md-2 col-lg-2">
    </div>
    <div class="col-xs-9 col-sm-9 col-md-9  col-lg-9">
        @foreach (var item in Model)
        {
            <div class="card">
                <div class="card-body">
                    <h3 class="card-title">Product Name</h3>
                    <h4>@item.Price</h4>
                    <p class="card-text">@item.Description</p>
                    <span class="text-warning">&#9733; &#9733; &#9733; &#9733; &#9734;</span>
                    @item.Provider.Rate stars
                </div>
            </div>
        }
    </div>
</div>